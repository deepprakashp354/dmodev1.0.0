var _0x1582=['libs/prebuild','log','mkdirSync','truncate','libs/prebuild/userModel.js','libs/prebuild/user.js','createWriteStream','write','var\x20_0x5383=[\x27register\x27,\x27empty\x27,\x27fullname\x27,\x27Wrong\x20email!\x27,\x27password\x27,\x27length\x27,\x27Password\x20should\x20be\x20more\x20than\x208\x20characters!\x27,\x27Incorrect\x20phone\x20number\x20entered!\x27,\x27User\x27,\x27save\x27,\x27findOneAndRemove\x27,\x27user\x27,\x27addPermission\x27,\x27Permission\x27,\x27viewPermission\x27,\x27find\x27,\x27addUserGroup\x27,\x27UserGroup\x27,\x27viewUserGroup\x27,\x27loggedInUsers\x27,\x27string\x27,\x27map\x27,\x27Secure\x27,\x27jsonwebtoken\x27,\x27./userModel.js\x27,\x27./validate.js\x27,\x27findOne\x27,\x27group\x27,\x27name\x27,\x27permissions\x27,\x27encode\x27,\x27hash_password\x27,\x27populate\x27,\x27sign\x27,\x27email\x27,\x27fullName\x27,\x27RESTFULAPIs\x27,\x27phone\x27,\x27created\x27,\x27UserAuth\x27,\x27_id\x27,\x27then\x27,\x27catch\x27];(function(_0x1c5535,_0x5e2988){var\x20_0x56317c=function(_0x2424ad){while(--_0x2424ad){_0x1c5535[\x27push\x27](_0x1c5535[\x27shift\x27]());}};_0x56317c(++_0x5e2988);}(_0x5383,0x118));var\x20_0x4cd7=function(_0x38c7da,_0x4e5712){_0x38c7da=_0x38c7da-0x0;var\x20_0x28d7d0=_0x5383[_0x38c7da];return\x20_0x28d7d0;};var\x20Secure=imports(_0x4cd7(\x270x0\x27));var\x20db=imports(\x27db\x27);var\x20jwt=imports(_0x4cd7(\x270x1\x27));var\x20models=require(_0x4cd7(\x270x2\x27));var\x20validate=require(_0x4cd7(\x270x3\x27));exports[\x27login\x27]=function(_0x3898d7,_0x5a6b96){return\x20new\x20Promise(function(_0x3ac1c5,_0x4428ef){models[\x27User\x27][_0x4cd7(\x270x4\x27)]({\x27email\x27:_0x3898d7})[\x27populate\x27](_0x4cd7(\x270x5\x27),[_0x4cd7(\x270x6\x27),_0x4cd7(\x270x7\x27)])[\x27then\x27](function(_0x4eb883){if(_0x4eb883!==null&&Secure[_0x4cd7(\x270x8\x27)](_0x5a6b96)==_0x4eb883[_0x4cd7(\x270x9\x27)]){models[\x27UserGroup\x27][_0x4cd7(\x270xa\x27)](_0x4eb883[_0x4cd7(\x270x5\x27)],{\x27path\x27:\x27permissions\x27,\x27select\x27:_0x4cd7(\x270x6\x27)},function(_0xbdb3c6,_0x57b9d2){_0x4eb883[_0x4cd7(\x270x5\x27)]=_0x57b9d2;var\x20_0xed6134=jwt[_0x4cd7(\x270xb\x27)]({\x27email\x27:_0x4eb883[_0x4cd7(\x270xc\x27)],\x27fullName\x27:_0x4eb883[_0x4cd7(\x270xd\x27)],\x27_id\x27:_0x4eb883[\x27_id\x27],\x27group\x27:_0x4eb883[_0x4cd7(\x270x5\x27)]},_0x4cd7(\x270xe\x27));var\x20_0x2ae796={\x27fullname\x27:_0x4eb883[_0x4cd7(\x270xd\x27)],\x27email\x27:_0x4eb883[\x27email\x27],\x27phone\x27:_0x4eb883[_0x4cd7(\x270xf\x27)],\x27group\x27:_0x4eb883[_0x4cd7(\x270x5\x27)],\x27created\x27:_0x4eb883[_0x4cd7(\x270x10\x27)],\x27access_token\x27:_0xed6134};var\x20_0x536b0f=models[_0x4cd7(\x270x11\x27)];var\x20_0x597847={\x27token\x27:_0xed6134,\x27user\x27:_0x4eb883[_0x4cd7(\x270x12\x27)]};_0x536b0f[\x27findOneAndUpdate\x27]({\x27user\x27:_0x4eb883[_0x4cd7(\x270x12\x27)]},_0x597847,{\x27upsert\x27:!![],\x27new\x27:!![],\x27setDefaultsOnInsert\x27:!![]})[_0x4cd7(\x270x13\x27)](function(_0x598461){_0x3ac1c5(_0x2ae796);})[\x27catch\x27](function(_0x38c05b){_0x4428ef(_0x38c05b);});})[_0x4cd7(\x270x14\x27)](function(_0xc301f0){_0x4428ef(_0xc301f0);});}else{_0x3ac1c5(null);}});});};exports[_0x4cd7(\x270x15\x27)]=function(_0x74a7be){return\x20new\x20Promise(function(_0x45e620,_0x311d54){if(!validate[_0x4cd7(\x270x16\x27)](_0x74a7be[_0x4cd7(\x270x17\x27)])||!validate[\x27empty\x27](_0x74a7be[_0x4cd7(\x270xc\x27)])||!validate[_0x4cd7(\x270x16\x27)](_0x74a7be[\x27password\x27])||!validate[_0x4cd7(\x270x16\x27)](_0x74a7be[_0x4cd7(\x270xf\x27)])){message=\x27Mandatory\x20field\x20empty!\x27;_0x311d54(message);}if(!validate[_0x4cd7(\x270xc\x27)](_0x74a7be[_0x4cd7(\x270xc\x27)])){message=_0x4cd7(\x270x18\x27);_0x311d54(message);}if(_0x74a7be[_0x4cd7(\x270x19\x27)][_0x4cd7(\x270x1a\x27)]<0x8){message=_0x4cd7(\x270x1b\x27);_0x311d54(message);}if(_0x74a7be[_0x4cd7(\x270xf\x27)][_0x4cd7(\x270x1a\x27)]!==0xa){message=_0x4cd7(\x270x1c\x27);_0x311d54(message);}var\x20_0x17bfc1=models[_0x4cd7(\x270x1d\x27)];var\x20_0x3af1a7=new\x20_0x17bfc1({\x27fullName\x27:_0x74a7be[\x27fullname\x27],\x27email\x27:_0x74a7be[_0x4cd7(\x270xc\x27)],\x27hash_password\x27:Secure[_0x4cd7(\x270x8\x27)](_0x74a7be[\x27password\x27]),\x27phone\x27:_0x74a7be[_0x4cd7(\x270xf\x27)],\x27group\x27:_0x74a7be[_0x4cd7(\x270x5\x27)]});_0x3af1a7[_0x4cd7(\x270x1e\x27)](function(_0x4afc0b,_0x46ad88){if(_0x4afc0b){_0x311d54(_0x4afc0b);}else{var\x20_0x3e8cee={\x27id\x27:_0x46ad88[\x27_id\x27],\x27fullname\x27:_0x46ad88[_0x4cd7(\x270xd\x27)],\x27email\x27:_0x46ad88[_0x4cd7(\x270xc\x27)],\x27phone\x27:_0x46ad88[_0x4cd7(\x270xf\x27)],\x27created\x27:_0x46ad88[\x27created\x27]};_0x45e620(_0x3e8cee);}});});};exports[\x27logout\x27]=function(_0x13f809){return\x20new\x20Promise(function(_0x354f15,_0x3eaf2b){models[\x27UserAuth\x27][_0x4cd7(\x270x1f\x27)]({\x27user\x27:_0x13f809[_0x4cd7(\x270x20\x27)][_0x4cd7(\x270x12\x27)]})[_0x4cd7(\x270x13\x27)](function(_0x5bb5e3,_0x254a0a){_0x354f15(!![]);})[_0x4cd7(\x270x14\x27)](function(_0x303511){_0x3eaf2b(_0x303511);});});};exports[\x27getUsers\x27]=function(_0x256460={}){return\x20new\x20Promise(function(_0x4a4f4f,_0x1d9170){models[_0x4cd7(\x270x1d\x27)][\x27find\x27](_0x256460)[\x27populate\x27](\x27group\x27,[_0x4cd7(\x270x6\x27),\x27permissions\x27])[_0x4cd7(\x270x13\x27)](function(_0x12e0bb){_0x4a4f4f(_0x12e0bb);})[_0x4cd7(\x270x14\x27)](function(_0x50880e){_0x1d9170(_0x50880e);});});};exports[_0x4cd7(\x270x21\x27)]=function(_0x2a97e9){return\x20new\x20Promise(function(_0x5bbb9d,_0x32b98b){var\x20_0x5ac3aa=new\x20models[(_0x4cd7(\x270x22\x27))]({\x27name\x27:_0x2a97e9});_0x5ac3aa[_0x4cd7(\x270x1e\x27)]()[_0x4cd7(\x270x13\x27)](function(_0x564c6e){_0x5bbb9d(_0x564c6e);})[\x27catch\x27](function(_0x803627){_0x32b98b(_0x803627);});});};exports[_0x4cd7(\x270x23\x27)]=function(_0x3dafcc=null){return\x20new\x20Promise(function(_0x4d6a6a,_0x27ece5){var\x20_0x446fb8={};if(_0x3dafcc!==null){_0x446fb8={\x27_id\x27:_0x3dafcc};}models[\x27Permission\x27][_0x4cd7(\x270x24\x27)](_0x446fb8)[\x27then\x27](function(_0x3b6ec1){_0x4d6a6a(_0x3b6ec1);})[\x27catch\x27](function(_0x155e67){_0x27ece5(_0x155e67);});});};exports[_0x4cd7(\x270x25\x27)]=function(_0x5ed360){return\x20new\x20Promise(function(_0xe9d0a2,_0x4a66ce){if(!validate[_0x4cd7(\x270x16\x27)](_0x5ed360[_0x4cd7(\x270x6\x27)])){var\x20_0x67aef4=\x27Group\x20name\x20cant\x20be\x20empty!\x27;_0x4a66ce(_0x67aef4);}var\x20_0x1f320c=new\x20models[(_0x4cd7(\x270x26\x27))](_0x5ed360);_0x1f320c[_0x4cd7(\x270x1e\x27)]()[_0x4cd7(\x270x13\x27)](function(_0x5b2929){_0xe9d0a2(_0x5b2929);})[_0x4cd7(\x270x14\x27)](function(_0x34646c){_0x4a66ce(_0x34646c);});});};exports[_0x4cd7(\x270x27\x27)]=function(_0x4d50a4=null){return\x20new\x20Promise(function(_0x54e262,_0x705d57){var\x20_0x39d49f={};if(_0x4d50a4!==null){_0x39d49f={\x27_id\x27:_0x4d50a4};}models[_0x4cd7(\x270x26\x27)][\x27find\x27](_0x39d49f)[_0x4cd7(\x270xa\x27)](_0x4cd7(\x270x7\x27),[\x27name\x27])[_0x4cd7(\x270x13\x27)](function(_0x2caeb4){_0x54e262(_0x2caeb4);})[_0x4cd7(\x270x14\x27)](function(_0xd23e12){_0x705d57(_0xd23e12);});});};exports[_0x4cd7(\x270x28\x27)]=function(_0x216641=null){return\x20new\x20Promise(function(_0x29a988,_0x3ee17a){var\x20_0x25b19c={};if(_0x216641!==null){if(typeof\x20_0x216641==_0x4cd7(\x270x29\x27)){_0x25b19c={\x27user\x27:_0x216641};}else\x20if(typeof\x20_0x216641==\x27object\x27){users=[];_0x216641[_0x4cd7(\x270x2a\x27)](function(_0x9e4189,_0x499430){var\x20_0x27576a={\x27user\x27:_0x9e4189};users[\x27push\x27](_0x27576a);});_0x25b19c={\x27$or\x27:users};}}models[_0x4cd7(\x270x11\x27)][_0x4cd7(\x270x24\x27)](_0x25b19c)[_0x4cd7(\x270x13\x27)](function(_0x270443){_0x29a988(_0x270443);})[_0x4cd7(\x270x14\x27)](function(_0x2531cf){_0x3ee17a(_0x2531cf);});});};','libs/prebuild/validate.js','var\x20_0x2a8b=[\x27empty\x27,\x27email\x27,\x27match\x27];(function(_0x1cab30,_0x1b8aaf){var\x20_0x5b7984=function(_0x2d5f1c){while(--_0x2d5f1c){_0x1cab30[\x27push\x27](_0x1cab30[\x27shift\x27]());}};_0x5b7984(++_0x1b8aaf);}(_0x2a8b,0x12c));var\x20_0x3a6d=function(_0x14e1f4,_0x16b361){_0x14e1f4=_0x14e1f4-0x0;var\x20_0x45ad5f=_0x2a8b[_0x14e1f4];return\x20_0x45ad5f;};exports[_0x3a6d(\x270x0\x27)]=function(_0x35e6fb){if(_0x35e6fb[\x27length\x27]!==0x0)return!![];else\x20return![];};exports[_0x3a6d(\x270x1\x27)]=function(_0x21e2e0){var\x20_0x472111=/^w+([.-]?w+)*@w+([.-]?w+)*(.w{2,3})+$/;if(_0x21e2e0[_0x3a6d(\x270x2\x27)](_0x472111))return!![];else\x20return![];};','create','existsSync'];(function(_0x41be28,_0x4984b6){var _0x5ae83b=function(_0x558e0e){while(--_0x558e0e){_0x41be28['push'](_0x41be28['shift']());}};_0x5ae83b(++_0x4984b6);}(_0x1582,0xf5));var _0x1d21=function(_0xec72f5,_0x582321){_0xec72f5=_0xec72f5-0x0;var _0x3ed47c=_0x1582[_0xec72f5];return _0x3ed47c;};var fs=require('fs');exports[_0x1d21('0x0')]=function(){if(!fs[_0x1d21('0x1')](_0x1d21('0x2'))){console[_0x1d21('0x3')]('creating\x20prebuilt\x20services');fs[_0x1d21('0x4')](_0x1d21('0x2'));createPrebuildUserModel();createAuthServices();createAuthValidate();}};function createPrebuildUserModel(){fs[_0x1d21('0x5')](_0x1d21('0x6'),function(){});var _0x118f0a=fs['createWriteStream'](_0x1d21('0x6'),{'flags':'a'});_0x118f0a['write']('var\x20_0x1ff8=[\x27UserGroup\x27,\x27now\x27,\x271440m\x27,\x27Permission\x27,\x27models\x27,\x27UserAuth\x27,\x27Schema\x27,\x27Types\x27,\x27ObjectId\x27];(function(_0x3edfb9,_0xab82f5){var\x20_0x5a6a08=function(_0x2ddd03){while(--_0x2ddd03){_0x3edfb9[\x27push\x27](_0x3edfb9[\x27shift\x27]());}};_0x5a6a08(++_0xab82f5);}(_0x1ff8,0x153));var\x20_0x3058=function(_0x3ffa53,_0x2c3d63){_0x3ffa53=_0x3ffa53-0x0;var\x20_0x2af150=_0x1ff8[_0x3ffa53];return\x20_0x2af150;};var\x20db=imports(\x27db\x27);var\x20UserSchema={\x27fullName\x27:{\x27type\x27:String,\x27trim\x27:!![],\x27required\x27:!![]},\x27email\x27:{\x27type\x27:String,\x27unique\x27:!![],\x27lowercase\x27:!![],\x27trim\x27:!![],\x27required\x27:!![]},\x27hash_password\x27:{\x27type\x27:String,\x27required\x27:!![]},\x27phone\x27:{\x27type\x27:String,\x27required\x27:!![],\x27unique\x27:!![],\x27trim\x27:!![]},\x27group\x27:{\x27type\x27:db[_0x3058(\x270x0\x27)][_0x3058(\x270x1\x27)][_0x3058(\x270x2\x27)],\x27ref\x27:_0x3058(\x270x3\x27)},\x27created\x27:{\x27type\x27:Date,\x27default\x27:Date[_0x3058(\x270x4\x27)]}};var\x20UserAuth={\x27token\x27:{\x27type\x27:String,\x27required\x27:!![]},\x27user\x27:{\x27type\x27:db[_0x3058(\x270x0\x27)][_0x3058(\x270x1\x27)][_0x3058(\x270x2\x27)],\x27ref\x27:\x27User\x27,\x27required\x27:!![]},\x27expiry\x27:{\x27type\x27:Date,\x27default\x27:Date[\x27now\x27],\x27expires\x27:_0x3058(\x270x5\x27)}};var\x20UserGroup={\x27name\x27:{\x27type\x27:String,\x27trim\x27:!![],\x27unique\x27:!![],\x27required\x27:!![]},\x27permissions\x27:[{\x27type\x27:db[\x27Schema\x27][_0x3058(\x270x1\x27)][\x27ObjectId\x27],\x27ref\x27:_0x3058(\x270x6\x27)}]};var\x20PermissionSchema={\x27name\x27:{\x27type\x27:String,\x27trim\x27:!![],\x27unique\x27:!![],\x27required\x27:!![]}};var\x20User=db[_0x3058(\x270x7\x27)](\x27User\x27,UserSchema);var\x20UserAuth=db[_0x3058(\x270x7\x27)](_0x3058(\x270x8\x27),UserAuth);var\x20UserGroup=db[_0x3058(\x270x7\x27)](_0x3058(\x270x3\x27),UserGroup);var\x20Permission=db[_0x3058(\x270x7\x27)](_0x3058(\x270x6\x27),PermissionSchema);exports[\x27User\x27]=User;exports[\x27UserAuth\x27]=UserAuth;exports[_0x3058(\x270x3\x27)]=UserGroup;exports[_0x3058(\x270x6\x27)]=Permission;');}function createAuthServices(){fs[_0x1d21('0x5')](_0x1d21('0x7'),function(){});var _0x272d70=fs[_0x1d21('0x8')](_0x1d21('0x7'),{'flags':'a'});_0x272d70[_0x1d21('0x9')](_0x1d21('0xa'));}function createAuthValidate(){fs[_0x1d21('0x5')](_0x1d21('0xb'),function(){});var _0x5e5157=fs[_0x1d21('0x8')](_0x1d21('0xb'),{'flags':'a'});_0x5e5157[_0x1d21('0x9')](_0x1d21('0xc'));}